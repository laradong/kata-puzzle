本题目来自于《Clean Code》第14章

## 问题描述


### Part I

我们中的很多人写程序时都会对命令行参数进行解析。如果没有一个方便的实用工具，那么我们只能遍历传递给主函数的字符串数组。

通常我们能从不同的来源获得到多个具有类似功能的工具，但它们可能无法完全满足我们的需要。所以，我们现在就自己写一个吧！

传给程序的参数包含标识位(flag)和值（value）。标识位是带有一个’-’号前缀的单字符。每个flag可以没有值，或者有一个取值。

请为这类参数写个解析器，这个解析器应该提供一个详细描述该程序所期望参数系列的范式(Schema)。这个范式可以说明该主程序所期望的Flag的数量及其对应的数据类型，和所期望的默认值。

一旦这个参数范式（Schema）被指定，该程序应该传入真实的参数列表给这个参数解析器。这个解析器会验证输入的参数是否与其所要求的参数范式是否匹配。之后，这个程序可以使用标识位（Flag）的名称从这个参数解析器中获得对应的值。
这个值应当以参数范式所要求的正确类型返回给这个程序。

例如，如果这个程序的输入参数如下所示：

```
-l -p 8080 -d /usr/logs
```
这表明，这个参数模式有三个标识位，分别是： l, p, d。
标识位 “l” (logging) 没有取值，是一个布尔型标识，如果有这个标识位，就是True，没有就表示False。标识位“p” (port) 是一个整数型值，标识位“d” (directory) 是一个字符串型值。
如果在指定范式中所提及的标识没有出现在参数列表中，就返回一个适当的默认值。例如，布尔型就是“False”，数字型就是0，字符串型就是空字符串“”。
如果给定的参数与指定模式不匹配，应该显示一个良好的错误信息，解释到底为什么出错了。


### Part II

如果你还想更有挑战性，可以支持下面的列表参数，例如
```
-g this,is,a,list -d 1,2,-3,5
```
标识位“g”表示一个字符串列表，如上例中就是 [“this”, “is”, “a”, “list”] ，“d” 表示整数型数组，如[1, 2, -3, 5]。

确保你的解析程序是可扩展的，也就是说：可以很明确且直接地增加新类型的参数和默认值。满足需求的时候，尽量保持修改量与修改点较少。

## 线索

具体范式（Schema）应该是什么样子，以及如何指定它，我是故意在这个题目描述中保持模糊的。
这个练习的一个重要部分就是为它设计一个简洁但可读的格式。

### 建议的测试用例

* 有一个测试用例会覆盖负整数
* 参数的顺序并不需要完全按照范式中所给出的顺序
* 如果范式中有一些标识位并没有在参数列表中出现，那么确保它会被指定正确的默认值。

Comments from those who are working on this Kata
In Robert C. Martin’s book there is a full worked solution written in Java. He mentions in a footnote on page 200 that he has also solved it in Ruby. His Java code is available on github.com/unclebob/javaargs/tree/master, and the Ruby version is available on github.com/unclebob/rubyargs/tree/master
